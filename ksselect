select_keystore() {

    # Create a temporary file to hold the keystore info
    temp_file=$(mktemp)
    
    # Get a list of unique keystore paths and users from the /app directory
    find /app -type f -name "*.keystore" | xargs -I{} stat -c "%U %n" {} | sort -u > "$temp_file"
    
    # Read the keystore info from the temporary file into an array
    mapfile -t keystore_info < "$temp_file"
    
    # Delete the temporary file
    rm "$temp_file"
    
    # Check if any keystores were found
    if [[ ${#keystore_info[@]} -eq 0 ]]; then
        echo "No Java keystores detected."
        return 1
    fi
    
    # Print a menu of keystores
    echo "Select a Java keystore:"
    for i in "${!keystore_info[@]}"; do
        echo "$((i + 1)). User: ${keystore_info[i]%% *}, Keystore: ${keystore_info[i]##* }"
    done
    
    # Prompt the user for their selection
    while :; do
        read -p "Enter the number of your selection (or 'q' to quit): " selection
        if [[ $selection == 'q' ]]; then
            return 1
        elif [[ $selection -ge 1 ]] && [[ $selection -le ${#keystore_info[@]} ]]; then
            break
        else
            echo "Invalid selection. Please try again."
        fi
    done
    
    # Extract user and keystore from selection
    selected_user=${keystore_info[$((selection - 1))]%% *}
    selected_keystore=${keystore_info[$((selection - 1))]##* }
    
    # Replicate the selected keystore on the target server

}
